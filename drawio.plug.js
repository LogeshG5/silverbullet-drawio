var U=Object.defineProperty;var I=(e,r)=>{for(var o in r)U(e,o,{get:r[o],enumerable:!0})};function b(e){let r=atob(e),o=r.length,n=new Uint8Array(o);for(let i=0;i<o;i++)n[i]=r.charCodeAt(i);return n}function u(e){typeof e=="string"&&(e=new TextEncoder().encode(e));let r="",o=e.byteLength;for(let n=0;n<o;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var l=e=>{throw new Error("Not initialized yet")},f=typeof window>"u"&&typeof globalThis.WebSocketPair>"u";typeof Deno>"u"&&(self.Deno={args:[],build:{arch:"x86_64"},env:{get(){}}});var A=new Map,p=0;f&&(globalThis.syscall=async(e,...r)=>await new Promise((o,n)=>{p++,A.set(p,{resolve:o,reject:n}),l({type:"sys",id:p,name:e,args:r})}));function y(e,r,o){f&&(l=o,self.addEventListener("message",n=>{(async()=>{let i=n.data;switch(i.type){case"inv":{let g=e[i.name];if(!g)throw new Error(`Function not loaded: ${i.name}`);try{let a=await Promise.resolve(g(...i.args||[]));l({type:"invr",id:i.id,result:a})}catch(a){console.error("An exception was thrown as a result of invoking function",i.name,"error:",a.message),l({type:"invr",id:i.id,error:a.message})}}break;case"sysr":{let g=i.id,a=A.get(g);if(!a)throw Error("Invalid request id");A.delete(g),i.error?a.reject(new Error(i.error)):a.resolve(i.result)}break}})().catch(console.error)}),l({type:"manifest",manifest:r}))}async function w(e,r){if(typeof e!="string"){let o=new Uint8Array(await e.arrayBuffer()),n=o.length>0?u(o):void 0;r={method:e.method,headers:Object.fromEntries(e.headers.entries()),base64Body:n},e=e.url}return syscall("sandboxFetch.fetch",e,r)}globalThis.nativeFetch=globalThis.fetch;function T(){globalThis.fetch=async function(e,r){let o=r&&r.body?u(new Uint8Array(await new Response(r.body).arrayBuffer())):void 0,n=await w(e,r&&{method:r.method,headers:r.headers,base64Body:o});return new Response(n.base64Body?b(n.base64Body):null,{status:n.status,headers:n.headers})}}f&&T();var s={};I(s,{alert:()=>Ae,configureVimMode:()=>Te,confirm:()=>pe,copyToClipboard:()=>Ne,deleteLine:()=>Ge,dispatch:()=>Ce,downloadFile:()=>re,filterBox:()=>ie,flashNotification:()=>ne,fold:()=>ye,foldAll:()=>xe,getCurrentEditor:()=>v,getCurrentPage:()=>k,getCurrentPageMeta:()=>Y,getCurrentPath:()=>B,getCursor:()=>K,getRecentlyOpenedPages:()=>S,getSelection:()=>J,getText:()=>X,getUiOption:()=>fe,goHistory:()=>te,hidePanel:()=>ae,insertAtCursor:()=>Ie,insertAtPos:()=>de,invokeCommand:()=>Q,moveCursor:()=>me,moveCursorToLine:()=>ce,moveLineDown:()=>Ue,moveLineUp:()=>Pe,navigate:()=>H,newWindow:()=>ee,openCommandPalette:()=>D,openPageNavigator:()=>j,openSearchPanel:()=>Fe,openUrl:()=>_,prompt:()=>ue,rebuildEditorState:()=>q,redo:()=>Re,reloadConfigAndCommands:()=>$,reloadPage:()=>O,reloadUI:()=>L,replaceRange:()=>le,save:()=>z,sendMessage:()=>ke,setSelection:()=>M,setText:()=>E,setUiOption:()=>be,showPanel:()=>se,showProgress:()=>ge,toggleFold:()=>he,undo:()=>We,unfold:()=>Ze,unfoldAll:()=>Ve,uploadFile:()=>oe,vimEx:()=>we});typeof self>"u"&&(self={syscall:()=>{throw new Error("Not implemented here")}});function t(e,...r){return globalThis.syscall(e,...r)}function k(){return t("editor.getCurrentPage")}function Y(){return t("editor.getCurrentPageMeta")}function B(){return t("editor.getCurrentPath")}function S(){return t("editor.getRecentlyOpenedPages")}function v(){return t("editor.getCurrentEditor")}function X(){return t("editor.getText")}function E(e,r=!1){return t("editor.setText",e,r)}function K(){return t("editor.getCursor")}function J(){return t("editor.getSelection")}function M(e,r){return t("editor.setSelection",e,r)}function Q(e,r){return t("editor.invokeCommand",e,r)}function z(){return t("editor.save")}function H(e,r=!1,o=!1){return t("editor.navigate",e,r,o)}function j(e="page"){return t("editor.openPageNavigator",e)}function D(){return t("editor.openCommandPalette")}function O(){return t("editor.reloadPage")}function L(){return t("editor.reloadUI")}function q(){return t("editor.rebuildEditorState")}function $(){return t("editor.reloadConfigAndCommands")}function _(e,r=!1){return t("editor.openUrl",e,r)}function ee(){return t("editor.newWindow")}function te(e){return t("editor.goHistory",e)}function re(e,r){return t("editor.downloadFile",e,r)}function oe(e,r){return t("editor.uploadFile",e,r)}function ne(e,r="info"){return t("editor.flashNotification",e,r)}function ie(e,r,o="",n=""){return t("editor.filterBox",e,r,o,n)}function se(e,r,o,n=""){return t("editor.showPanel",e,r,o,n)}function ae(e){return t("editor.hidePanel",e)}function ge(e,r){return t("editor.showProgress",e,r)}function de(e,r){return t("editor.insertAtPos",e,r)}function le(e,r,o){return t("editor.replaceRange",e,r,o)}function me(e,r=!1){return t("editor.moveCursor",e,r)}function ce(e,r=1,o=!1){return t("editor.moveCursorToLine",e,r,o)}function Ie(e,r=!1,o=!1){return t("editor.insertAtCursor",e,r,o)}function Ce(e){return t("editor.dispatch",e)}function ue(e,r=""){return t("editor.prompt",e,r)}function pe(e){return t("editor.confirm",e)}function Ae(e){return t("editor.alert",e)}function fe(e){return t("editor.getUiOption",e)}function be(e,r){return t("editor.setUiOption",e,r)}function ye(){return t("editor.fold")}function Ze(){return t("editor.unfold")}function he(){return t("editor.toggleFold")}function xe(){return t("editor.foldAll")}function Ve(){return t("editor.unfoldAll")}function We(){return t("editor.undo")}function Re(){return t("editor.redo")}function Fe(){return t("editor.openSearchPanel")}function Ne(e){return t("editor.copyToClipboard",e)}function Ge(){return t("editor.deleteLine")}function Pe(){return t("editor.moveLineUp")}function Ue(){return t("editor.moveLineDown")}function we(e){return t("editor.vimEx",e)}function Te(){return t("editor.configureVimMode")}function ke(e,r){return t("editor.sendMessage",e,r)}var m={};I(m,{deleteDocument:()=>je,deleteFile:()=>$e,deletePage:()=>Ke,fileExists:()=>_e,getDocumentMeta:()=>Qe,getFileMeta:()=>Le,getPageMeta:()=>Se,listDocuments:()=>Me,listFiles:()=>De,listPages:()=>Be,listPlugs:()=>Je,pageExists:()=>ve,readDocument:()=>ze,readFile:()=>Oe,readPage:()=>Xe,writeDocument:()=>He,writeFile:()=>qe,writePage:()=>Ee});function Be(){return t("space.listPages")}function Se(e){return t("space.getPageMeta",e)}function ve(e){return t("space.pageExists",e)}function Xe(e){return t("space.readPage",e)}function Ee(e,r){return t("space.writePage",e,r)}function Ke(e){return t("space.deletePage",e)}function Je(){return t("space.listPlugs")}function Me(){return t("space.listDocuments")}function Qe(e){return t("space.getDocumentMeta",e)}function ze(e){return t("space.readDocument",e)}function He(e,r){return t("space.writeDocument",e,r)}function je(e){return t("space.deleteDocument",e)}function De(){return t("space.listFiles")}function Oe(e){return t("space.readFile",e)}function Le(e){return t("space.getFileMeta",e)}function qe(e,r){return t("space.writeFile",e,r)}function $e(e){return t("space.deleteFile",e)}function _e(e){return t("space.fileExists",e)}var C={};I(C,{getConfig:()=>at,getMode:()=>it,getVersion:()=>st,invokeCommand:()=>tt,invokeFunction:()=>et,listCommands:()=>rt,listSyscalls:()=>ot,reloadPlugs:()=>nt,wipeClient:()=>gt});function et(e,...r){return t("system.invokeFunction",e,...r)}function tt(e,r){return t("system.invokeCommand",e,r)}function rt(){return t("system.listCommands")}function ot(){return t("system.listSyscalls")}function nt(){return t("system.reloadPlugs")}function it(){return t("system.getMode")}function st(){return t("system.getVersion")}function at(e,r=void 0){return t("system.getConfig",e,r)}function gt(e=!1){return t("system.wipeClient",e)}var d={};I(d,{getFileMeta:()=>pt,listFiles:()=>ut,readAsset:()=>Ct});function It(e){let r=atob(e),o=r.length,n=new Uint8Array(o);for(let i=0;i<o;i++)n[i]=r.charCodeAt(i);return n}function Z(e){let r=e.split(",",2)[1];return It(r)}async function Ct(e,r,o="utf8"){let n=await t("asset.readAsset",e,r);switch(o){case"utf8":return new TextDecoder().decode(Z(n));case"dataurl":return n}}async function ut(e){return await t("asset.listFiles",e)}async function pt(e,r){return await t("asset.getFileMeta",e,r)}function h(e){return(e.split(".").pop()??"").toLowerCase()}function Wt(e){let r=/\(([^)]+)\)/g;return Array.from(e.matchAll(r)).map(o=>o[1]).filter(o=>{let n=h(o);return n==="svg"||n==="png"})}async function x(){return(await C.getConfig("drawio",{}))?.editorUrl??"https://embed.diagrams.net/?embed=1&spin=1&proto=json&configure=1"}async function V(e){let r=await d.readAsset("drawio","assets/drawioframe.js"),o=await x();await s.showPanel("modal",1,`
      <style>
        iframe {
          border: 0;
          position: fixed;
          inset: 0; /* shorthand for top/left/right/bottom: 0 */
          width: 100%;
          height: 100%;
        }
      </style>
      <div>
        <iframe 
          id="drawioiframe" 
          src="${o}&saveAndExit=1&noSaveBtn=1&noExitBtn=1" 
          drawio-path="${e}">
        </iframe>
      </div>
    `,r)}async function W(){let e=await s.getCurrentPage(),r=e.substring(0,e.lastIndexOf("/")),o=await s.getText(),n=Wt(o),i="";if(n.length==0){s.flashNotification("No png or svg diagrams attached to this page!","error");return}if(n.length===1)i=r+"/"+n[0];else{let g=n.map(c=>({name:c,description:""})),a=await s.filterBox("Edit",g,"","");if(!a){await s.flashNotification("No diagram selected!","error");return}i=r+"/"+a.name}await V(i)}async function Rt(e){let r=await d.readAsset("drawio",`assets/sample.${e}.base64`),o=atob(r);return Uint8Array.from(o,n=>n.charCodeAt(0))}async function Ft(e,r){if(await m.fileExists(e)&&!await s.confirm("File already exists! Do you want to overwrite?"))return!1;let o=await Rt(r);return await m.writeFile(e,o),!0}async function R(){let e=await s.getText(),{from:r,to:o}=await s.getSelection(),n=e.slice(r,o).trim();n||(n=await s.prompt("Enter a diagram name:","sample.svg"));let i=h(n);i!=="svg"&&i!=="png"&&(i="svg",n+=`.${i}`);let g=await s.getCurrentPage(),c=`${g.slice(0,g.lastIndexOf("/"))}/${n}`;if(!await Ft(c,i))return;let P=`![${n}](${n})`;await s.replaceRange(r,o,P),await V(c)}async function F(){let e=await d.readAsset("drawio","assets/drawioframe.js"),r=await x(),o=await s.getCurrentPage();return{html:`
      <style>
        iframe {
          border: 0;
          position: fixed;
          inset: 0; /* shorthand for top/left/right/bottom: 0 */
          width: 100%;
          height: 100%;
        }
      </style>
      <div>
        <iframe 
          id="drawioiframe" 
          src="${r}&saveAndExit=0&noSaveBtn=1&noExitBtn=1" 
          drawio-path="${o}">
        </iframe>
      </div>
    `,script:e}}var N={editdrawio:W,createdrawio:R,drawioEditor:F},G={name:"drawio",version:.1,assets:{"assets/drawioframe.js":{data:"data:application/javascript;base64,Y29uc3QgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRyYXdpb2lmcmFtZSIpOwppZnJhbWU/LnNldEF0dHJpYnV0ZSgiZnJhbWVib3JkZXIiLCAiMCIpOwoKLy8gLS0tIEhlbHBlcnMgLS0tCmNvbnN0IHN5c2NhbGxlciA9ICh0eXBlb2Ygc2lsdmVyYnVsbGV0ICE9PSAidW5kZWZpbmVkIiA/IHNpbHZlcmJ1bGxldC5zeXNjYWxsIDogc3lzY2FsbCk7CgpmdW5jdGlvbiBiYXNlNjRUb1BuZyhiYXNlNjRTdHJpbmcpIHsKICAgIGNvbnN0IHJhdyA9IGJhc2U2NFN0cmluZy5zcGxpdCgiLCIpWzFdID8/ICIiOwogICAgY29uc3QgYnl0ZXMgPSBVaW50OEFycmF5LmZyb20oYXRvYihyYXcpLCBjID0+IGMuY2hhckNvZGVBdCgwKSk7CiAgICByZXR1cm4gbmV3IEJsb2IoW2J5dGVzXSwgeyB0eXBlOiAiaW1hZ2UvcG5nIiB9KTsKfQoKZnVuY3Rpb24gYmFzZTY0VG9TdmcoYmFzZTY0U3RyaW5nKSB7CiAgICBjb25zdCByYXcgPSBiYXNlNjRTdHJpbmcuc3Vic3RyaW5nKGJhc2U2NFN0cmluZy5pbmRleE9mKCIsIikgKyAxKTsKICAgIGNvbnN0IHRleHQgPSBhdG9iKHJhdyk7CiAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHRleHQpOwp9Cgphc3luYyBmdW5jdGlvbiBjbG9zZSgpIHsKICAgIHN5c2NhbGxlcigic3luYy5wZXJmb3JtU3BhY2VTeW5jIikudGhlbigoKSA9PiB7CiAgICAgICAgc3lzY2FsbGVyKCJlZGl0b3IucmVsb2FkVUkiKTsKICAgIH0pCiAgICBhd2FpdCBzeXNjYWxsZXIoImVkaXRvci5mbGFzaE5vdGlmaWNhdGlvbiIsICJSZWZyZXNoIHBhZ2UgdG8gdmlldyBjaGFuZ2VzISIpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCByZWNlaXZlKTsKICAgIGF3YWl0IHN5c2NhbGxlcigiZWRpdG9yLmhpZGVQYW5lbCIsICJtb2RhbCIpOwp9Cgphc3luYyBmdW5jdGlvbiBjb252ZXJ0QmxvYlRvQmFzZTY0KGJsb2IpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gewogICAgICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpOwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoZXJyb3IpID0+IHsKICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9OwogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpOwogICAgfSk7Cn0KCi8vIC0tLSBTQiBNZXNzYWdlIGhhbmRsZXIgLS0tCnRyeSB7CiAgICBnbG9iYWxUaGlzLnNpbHZlcmJ1bGxldC5hZGRFdmVudExpc3RlbmVyKCJmaWxlLW9wZW4iLCAoZXZlbnQpID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZygic2lsdmVidWxsZXQgZmlsZS1vcGVuIiwgZXZlbnQuZGV0YWlsLmRhdGEpOwogICAgICAgIC8vIHVudXNlZCBhcyBmaWxlIGlzIHJlYWQgaW4gJ2luaXQnIAogICAgfSk7CiAgICBnbG9iYWxUaGlzLnNpbHZlcmJ1bGxldC5hZGRFdmVudExpc3RlbmVyKCJmaWxlLXVwZGF0ZSIsIChldmVudCkgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKCJzaWx2ZWJ1bGxldCBmaWxlLXVwZGF0ZSIsIGV2ZW50LmRldGFpbC5kYXRhKTsKICAgICAgICAvLyBwb3N0IGEgbWVzc2FnZSB0byBpbml0IGFnYWluCiAgICB9KTsKICAgIGdsb2JhbFRoaXMuc2lsdmVyYnVsbGV0LmFkZEV2ZW50TGlzdGVuZXIoInJlcXVlc3Qtc2F2ZSIsIChldmVudCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJzaWx2ZWJ1bGxldCByZXF1ZXN0LXNhdmUiLCBldmVudCk7CiAgICAgICAgc2lsdmVyYnVsbGV0LnNlbmRNZXNzYWdlKCJmaWxlLXNhdmVkIiwgeyBkYXRhOiB3aW5kb3cuZGlhZ3JhbURhdGEgfSk7CiAgICB9KTsKfSBjYXRjaCAoZSkgewp9Cgphc3luYyBmdW5jdGlvbiBnZXRGaWxlKGV4dCwgZmlsZW5hbWUpIHsKICAgIGxldCBkYXRhID0gIiI7CgogICAgdHJ5IHsKICAgICAgICBkYXRhID0gYXdhaXQgc3lzY2FsbGVyKCJzcGFjZS5yZWFkRmlsZSIsIGZpbGVuYW1lKTsKCiAgICAgICAgc3dpdGNoIChleHQpIHsKICAgICAgICAgICAgY2FzZSAic3ZnIjoKICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZGF0YSk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgImRyYXdpbyI6CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgInBuZyI6CiAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgY29udmVydEJsb2JUb0Jhc2U2NChkYXRhKTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5zdXBwb3J0ZWQgZXh0ZW5zaW9uOiAke2V4dH1gKTsKICAgICAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIGZpbGUgJHtmaWxlbmFtZX06YCwgZXJyKTsKICAgICAgICByZXR1cm4gZGF0YTsKICAgIH0KCiAgICByZXR1cm4gZGF0YTsKfQoKZnVuY3Rpb24gZ2V0RXhwb3J0RGF0YShleHQsIGRhdGEpIHsKICAgIHN3aXRjaCAoZXh0KSB7CiAgICAgICAgY2FzZSAic3ZnIjoKICAgICAgICAgICAgZGF0YSA9IGJhc2U2NFRvU3ZnKGRhdGEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJwbmciOgogICAgICAgICAgICBkYXRhID0gYmFzZTY0VG9QbmcoZGF0YSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgfQogICAgcmV0dXJuIGRhdGE7Cn0KCi8vIC0tLSBNZXNzYWdlIGhhbmRsZXIgLS0tCmFzeW5jIGZ1bmN0aW9uIHJlY2VpdmUoZXZ0KSB7CiAgICBpZiAoIWV2dC5kYXRhKSByZXR1cm47CgogICAgbGV0IG1zZzsKICAgIHRyeSB7CiAgICAgICAgbXNnID0gSlNPTi5wYXJzZShldnQuZGF0YSk7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47IC8vIGlnbm9yZSBpbnZhbGlkIEpTT04KICAgIH0KCiAgICBjb25zdCBmaWxlbmFtZSA9IGlmcmFtZS5nZXRBdHRyaWJ1dGUoJ2RyYXdpby1wYXRoJyk7CiAgICBjb25zdCBpbmRleCA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCcuJyk7CiAgICBjb25zdCBleHQgPSBpbmRleCAhPT0gLTEgPyBmaWxlbmFtZS5zbGljZShpbmRleCArIDEpIDogJyc7CgogICAgc3dpdGNoIChtc2cuZXZlbnQpIHsKICAgICAgICBjYXNlICJjb25maWd1cmUiOgogICAgICAgICAgICBpZnJhbWU/LmNvbnRlbnRXaW5kb3c/LnBvc3RNZXNzYWdlKAogICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIGFjdGlvbjogImNvbmZpZ3VyZSIsCiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB7IGRlZmF1bHRGb250czogWyJIdW1vciBTYW5zIiwgIkhlbHZldGljYSIsICJUaW1lcyBOZXcgUm9tYW4iXSB9LAogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAiKiIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImluaXQiOiB7CiAgICAgICAgICAgIGxldCBkYXRhID0gYXdhaXQgZ2V0RmlsZShleHQsIGZpbGVuYW1lKTsKICAgICAgICAgICAgaWZyYW1lPy5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZSgKICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsgYWN0aW9uOiAibG9hZCIsIGF1dG9zYXZlOiAxLCB4bWw6IGRhdGEgfSksCiAgICAgICAgICAgICAgICAiKiIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBjYXNlICJleHBvcnQiOiB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBnZXRFeHBvcnREYXRhKGV4dCwgbXNnLmRhdGEpOwogICAgICAgICAgICBhd2FpdCBzeXNjYWxsZXIoInNwYWNlLndyaXRlRmlsZSIsIGZpbGVuYW1lLCBkYXRhKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBjYXNlICJhdXRvc2F2ZSI6CiAgICAgICAgY2FzZSAic2F2ZSI6CiAgICAgICAgICAgIGlmIChleHQgPT09ICdkcmF3aW8nKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuZGlhZ3JhbURhdGEgPSBtc2cueG1sOwogICAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5zaWx2ZXJidWxsZXQuc2VuZE1lc3NhZ2UoImZpbGUtY2hhbmdlZCIsIHsgZGF0YTogbXNnLnhtbCB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGlmcmFtZT8uY29udGVudFdpbmRvdz8ucG9zdE1lc3NhZ2UoCiAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICJleHBvcnQiLAogICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGV4dCA9PT0gInBuZyIgPyAieG1scG5nIiA6ICJ4bWxzdmciLAogICAgICAgICAgICAgICAgICAgICAgICB4bWw6IG1zZy54bWwsIC8vIG14ZmlsZQogICAgICAgICAgICAgICAgICAgICAgICBzcGluOiAiVXBkYXRpbmcgcGFnZSIsCiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgIioiCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIE5vdGlmeSBzYXZlIGlzIGRvbmUKICAgICAgICAgICAgaWZyYW1lPy5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZSgKICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsgYWN0aW9uOiAic3RhdHVzIiwgbWVzc2FnZUtleTogImFsbENoYW5nZXNTYXZlZCIsIG1vZGlmaWVkOiBmYWxzZSB9KSwKICAgICAgICAgICAgICAgICIqIgogICAgICAgICAgICApOwogICAgICAgICAgICBpZiAobXNnLmV4aXQpIGNsb3NlKCk7CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZXhpdCI6CiAgICAgICAgICAgIGNsb3NlKCk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgIH0KfQoKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCByZWNlaXZlKTsKCg==",mtime:1757130206814},"assets/sample.png.base64":{data:"data:application/octet-stream;base64,aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQVhOU1IwSUFyczRjNlFBQUFtQjBSVmgwYlhobWFXeGxBQ1V6UTIxNFptbHNaU1V5TUdodmMzUWxNMFFsTWpKaGNIQXVaR2xoWjNKaGJYTXVibVYwSlRJeUpUSXdZV2RsYm5RbE0wUWxNakpOYjNwcGJHeGhKVEpHTlM0d0pUSXdLRmRwYm1SdmQzTWxNakJPVkNVeU1ERXdMakFsTTBJbE1qQlhhVzQyTkNVelFpVXlNSGcyTkNrbE1qQkJjSEJzWlZkbFlrdHBkQ1V5UmpVek55NHpOaVV5TUNoTFNGUk5UQ1V5UXlVeU1HeHBhMlVsTWpCSFpXTnJieWtsTWpCRGFISnZiV1VsTWtZeE16RXVNQzR3TGpBbE1qQlRZV1poY21rbE1rWTFNemN1TXpZbE1qQkZaR2NsTWtZeE16RXVNQzR3TGpBbE1qSWxNakIyWlhKemFXOXVKVE5FSlRJeU1qWXVNQzQxSlRJeUpUTkZKVE5EWkdsaFozSmhiU1V5TUc1aGJXVWxNMFFsTWpKUVlXZGxMVEVsTWpJbE1qQnBaQ1V6UkNVeU1tTXRha1Y1ZFZkUU5tMXhVRGxNTjA1algwMWpKVEl5SlRORlpHUklRa1Z2U1dkRlFVUlJjaVV5UWtkUGEyeFBaSHBtVEZONVZVNXVVbXBhYUVKc01FZGhZbE1sTWtKUWFEQjNXVFozVEhNM2VHUlhSMWxvVEVjbE1rWklhU1V5UWxaSFdHeEhRVXBwYTFaSk1rVnVhM0ZhU0hseFdqRm9jV1ZJWWt4bU16QkdaMnhRUTFWeVZrOXZSa0ZYYmxGb2VFeFJValJWVDFWVWRHeFpjWGw0TmpaQ01tdFlSbkpqV1dwTU4zRnFhbkp2V1ROelNVZHhOVzV4Y2s1NVYyTTVTSEpKTms5dmJIRkZXWFZ1VWsxaFRXa3habWxuVURCclozTmpkbTluVm1oUFZWY3dabTF2U0ZoUVVUZ2xNa0o1VjNWbWFIbzFlaVV5UmxwNk9FMXpaRTgzU0dkVGJGazNOVFF5TUZGbGVEUm5NQ1V6UkNVelF5VXlSbVJwWVdkeVlXMGxNMFVsTTBNbE1rWnRlR1pwYkdVbE0wWFNCLy95QUFBQUMwbEVRVlFZVjJOZ0FBSUFBQVVBQWFyVnlGRUFBQUFBU1VWT1JLNUNZSUk9",mtime:1757130206814},"assets/sample.svg.base64":{data:"data:application/octet-stream;base64,UEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaVZWUkdMVGdpUHo0S1BDRXRMU0JFYnlCdWIzUWdaV1JwZENCMGFHbHpJR1pwYkdVZ2QybDBhQ0JsWkdsMGIzSnpJRzkwYUdWeUlIUm9ZVzRnWkhKaGR5NXBieUF0TFQ0S1BDRkVUME5VV1ZCRklITjJaeUJRVlVKTVNVTWdJaTB2TDFjelF5OHZSRlJFSUZOV1J5QXhMakV2TDBWT0lpQWlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZSM0poY0docFkzTXZVMVpITHpFdU1TOUVWRVF2YzNabk1URXVaSFJrSWo0S1BITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSE4wZVd4bFBTSmlZV05yWjNKdmRXNWtPaUIwY21GdWMzQmhjbVZ1ZERzZ1ltRmphMmR5YjNWdVpDMWpiMnh2Y2pvZ2RISmhibk53WVhKbGJuUTdJR052Ykc5eUxYTmphR1Z0WlRvZ2JHbG5hSFFnWkdGeWF6c2lJSGh0Ykc1ek9uaHNhVzVyUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklpQjJaWEp6YVc5dVBTSXhMakVpSUhkcFpIUm9QU0l4Y0hnaUlHaGxhV2RvZEQwaU1YQjRJaUIyYVdWM1FtOTRQU0l0TUM0MUlDMHdMalVnTVNBeElpQmpiMjUwWlc1MFBTSW1iSFE3YlhobWFXeGxJR2h2YzNROUpuRjFiM1E3WVhCd0xtUnBZV2R5WVcxekxtNWxkQ1p4ZFc5ME95QmhaMlZ1ZEQwbWNYVnZkRHROYjNwcGJHeGhMelV1TUNBb1YybHVaRzkzY3lCT1ZDQXhNQzR3T3lCWGFXNDJORHNnZURZMEtTQkJjSEJzWlZkbFlrdHBkQzgxTXpjdU16WWdLRXRJVkUxTUxDQnNhV3RsSUVkbFkydHZLU0JEYUhKdmJXVXZNVE14TGpBdU1DNHdJRk5oWm1GeWFTODFNemN1TXpZZ1JXUm5MekV6TVM0d0xqQXVNQ1p4ZFc5ME95QjJaWEp6YVc5dVBTWnhkVzkwT3pJMkxqQXVOU1p4ZFc5ME95Wm5kRHNtSXpFd095QWdKbXgwTzJScFlXZHlZVzBnYm1GdFpUMG1jWFZ2ZER0UVlXZGxMVEVtY1hWdmREc2dhV1E5Sm5GMWIzUTdZeTFxUlhsMVYxQTJiWEZRT1V3M1RtTmZUV01tY1hWdmREc21aM1E3SmlNeE1Ec2dJQ0FnSm14ME8yMTRSM0poY0doTmIyUmxiQ0JrZUQwbWNYVnZkRHM1TURNbWNYVnZkRHNnWkhrOUpuRjFiM1E3TlRRM0puRjFiM1E3SUdkeWFXUTlKbkYxYjNRN01TWnhkVzkwT3lCbmNtbGtVMmw2WlQwbWNYVnZkRHN4TUNaeGRXOTBPeUJuZFdsa1pYTTlKbkYxYjNRN01TWnhkVzkwT3lCMGIyOXNkR2x3Y3owbWNYVnZkRHN4Sm5GMWIzUTdJR052Ym01bFkzUTlKbkYxYjNRN01TWnhkVzkwT3lCaGNuSnZkM005Sm5GMWIzUTdNU1p4ZFc5ME95Qm1iMnhrUFNaeGRXOTBPekVtY1hWdmREc2djR0ZuWlQwbWNYVnZkRHN4Sm5GMWIzUTdJSEJoWjJWVFkyRnNaVDBtY1hWdmREc3hKbkYxYjNRN0lIQmhaMlZYYVdSMGFEMG1jWFZ2ZERzNE5UQW1jWFZ2ZERzZ2NHRm5aVWhsYVdkb2REMG1jWFZ2ZERzeE1UQXdKbkYxYjNRN0lHMWhkR2c5Sm5GMWIzUTdNQ1p4ZFc5ME95QnphR0ZrYjNjOUpuRjFiM1E3TUNaeGRXOTBPeVpuZERzbUl6RXdPeUFnSUNBZ0lDWnNkRHR5YjI5MEptZDBPeVlqTVRBN0lDQWdJQ0FnSUNBbWJIUTdiWGhEWld4c0lHbGtQU1p4ZFc5ME96QW1jWFZ2ZERzZ0x5Wm5kRHNtSXpFd095QWdJQ0FnSUNBZ0pteDBPMjE0UTJWc2JDQnBaRDBtY1hWdmREc3hKbkYxYjNRN0lIQmhjbVZ1ZEQwbWNYVnZkRHN3Sm5GMWIzUTdJQzhtWjNRN0ppTXhNRHNnSUNBZ0lDQW1iSFE3TDNKdmIzUW1aM1E3SmlNeE1Ec2dJQ0FnSm14ME95OXRlRWR5WVhCb1RXOWtaV3dtWjNRN0ppTXhNRHNnSUNac2REc3ZaR2xoWjNKaGJTWm5kRHNtSXpFd095WnNkRHN2YlhobWFXeGxKbWQwT3lZak1UQTdJajQ4WkdWbWN5OCtQR2MrUEdjZ1pHRjBZUzFqWld4c0xXbGtQU0l3SWo0OFp5QmtZWFJoTFdObGJHd3RhV1E5SWpFaUx6NDhMMmMrUEM5blBqd3ZjM1puUGc9PQ==",mtime:1757130206815}},imports:["https://get.silverbullet.md/global.plug.json"],requiredPermissions:["fetch"],functions:{editdrawio:{path:"./drawio.ts:editDrawioDiagram",command:{name:"Draw.io: Edit diagram",requireMode:"r"}},createdrawio:{path:"./drawio.ts:createDrawioDiagram",command:{name:"Draw.io: Create diagram",requireMode:"r"}},drawioEditor:{path:"./drawio.ts:openDrawioEditor",editor:["drawio"]}}},sr={manifest:G,functionMapping:N};y(N,G,self.postMessage);export{sr as plug};
