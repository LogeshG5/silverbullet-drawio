var N=Object.defineProperty;var I=(e,r)=>{for(var o in r)N(e,o,{get:r[o],enumerable:!0})};function f(e){let r=atob(e),o=r.length,n=new Uint8Array(o);for(let i=0;i<o;i++)n[i]=r.charCodeAt(i);return n}function u(e){typeof e=="string"&&(e=new TextEncoder().encode(e));let r="",o=e.byteLength;for(let n=0;n<o;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var d=e=>{throw new Error("Not initialized yet")},Z=typeof window>"u"&&typeof globalThis.WebSocketPair>"u";typeof Deno>"u"&&(self.Deno={args:[],build:{arch:"x86_64"},env:{get(){}}});var A=new Map,p=0;Z&&(globalThis.syscall=async(e,...r)=>await new Promise((o,n)=>{p++,A.set(p,{resolve:o,reject:n}),d({type:"sys",id:p,name:e,args:r})}));function y(e,r,o){Z&&(d=o,self.addEventListener("message",n=>{(async()=>{let i=n.data;switch(i.type){case"inv":{let g=e[i.name];if(!g)throw new Error(`Function not loaded: ${i.name}`);try{let a=await Promise.resolve(g(...i.args||[]));d({type:"invr",id:i.id,result:a})}catch(a){console.error("An exception was thrown as a result of invoking function",i.name,"error:",a.message),d({type:"invr",id:i.id,error:a.message})}}break;case"sysr":{let g=i.id,a=A.get(g);if(!a)throw Error("Invalid request id");A.delete(g),i.error?a.reject(new Error(i.error)):a.resolve(i.result)}break}})().catch(console.error)}),d({type:"manifest",manifest:r}))}async function G(e,r){if(typeof e!="string"){let o=new Uint8Array(await e.arrayBuffer()),n=o.length>0?u(o):void 0;r={method:e.method,headers:Object.fromEntries(e.headers.entries()),base64Body:n},e=e.url}return syscall("sandboxFetch.fetch",e,r)}globalThis.nativeFetch=globalThis.fetch;function Y(){globalThis.fetch=async function(e,r){let o=r&&r.body?u(new Uint8Array(await new Response(r.body).arrayBuffer())):void 0,n=await G(e,r&&{method:r.method,headers:r.headers,base64Body:o});return new Response(n.base64Body?f(n.base64Body):null,{status:n.status,headers:n.headers})}}Z&&Y();var s={};I(s,{alert:()=>Ae,configureVimMode:()=>Ye,confirm:()=>pe,copyToClipboard:()=>we,deleteLine:()=>Pe,dispatch:()=>Ce,downloadFile:()=>re,filterBox:()=>ie,flashNotification:()=>ne,fold:()=>ye,foldAll:()=>be,getCurrentEditor:()=>X,getCurrentPage:()=>k,getCurrentPageMeta:()=>T,getCurrentPath:()=>S,getCursor:()=>E,getRecentlyOpenedPages:()=>v,getSelection:()=>Q,getText:()=>B,getUiOption:()=>Ze,goHistory:()=>te,hidePanel:()=>ae,insertAtCursor:()=>Ie,insertAtPos:()=>le,invokeCommand:()=>K,moveCursor:()=>ce,moveCursorToLine:()=>me,moveLineDown:()=>Ne,moveLineUp:()=>Ue,navigate:()=>j,newWindow:()=>ee,openCommandPalette:()=>D,openPageNavigator:()=>H,openSearchPanel:()=>Re,openUrl:()=>_,prompt:()=>ue,rebuildEditorState:()=>q,redo:()=>Fe,reloadConfigAndCommands:()=>$,reloadPage:()=>L,reloadUI:()=>O,replaceRange:()=>de,save:()=>z,sendMessage:()=>ke,setSelection:()=>J,setText:()=>M,setUiOption:()=>fe,showPanel:()=>se,showProgress:()=>ge,toggleFold:()=>he,undo:()=>Ve,unfold:()=>xe,unfoldAll:()=>We,uploadFile:()=>oe,vimEx:()=>Ge});typeof self>"u"&&(self={syscall:()=>{throw new Error("Not implemented here")}});function t(e,...r){return globalThis.syscall(e,...r)}function k(){return t("editor.getCurrentPage")}function T(){return t("editor.getCurrentPageMeta")}function S(){return t("editor.getCurrentPath")}function v(){return t("editor.getRecentlyOpenedPages")}function X(){return t("editor.getCurrentEditor")}function B(){return t("editor.getText")}function M(e,r=!1){return t("editor.setText",e,r)}function E(){return t("editor.getCursor")}function Q(){return t("editor.getSelection")}function J(e,r){return t("editor.setSelection",e,r)}function K(e,r){return t("editor.invokeCommand",e,r)}function z(){return t("editor.save")}function j(e,r=!1,o=!1){return t("editor.navigate",e,r,o)}function H(e="page"){return t("editor.openPageNavigator",e)}function D(){return t("editor.openCommandPalette")}function L(){return t("editor.reloadPage")}function O(){return t("editor.reloadUI")}function q(){return t("editor.rebuildEditorState")}function $(){return t("editor.reloadConfigAndCommands")}function _(e,r=!1){return t("editor.openUrl",e,r)}function ee(){return t("editor.newWindow")}function te(e){return t("editor.goHistory",e)}function re(e,r){return t("editor.downloadFile",e,r)}function oe(e,r){return t("editor.uploadFile",e,r)}function ne(e,r="info"){return t("editor.flashNotification",e,r)}function ie(e,r,o="",n=""){return t("editor.filterBox",e,r,o,n)}function se(e,r,o,n=""){return t("editor.showPanel",e,r,o,n)}function ae(e){return t("editor.hidePanel",e)}function ge(e,r){return t("editor.showProgress",e,r)}function le(e,r){return t("editor.insertAtPos",e,r)}function de(e,r,o){return t("editor.replaceRange",e,r,o)}function ce(e,r=!1){return t("editor.moveCursor",e,r)}function me(e,r=1,o=!1){return t("editor.moveCursorToLine",e,r,o)}function Ie(e,r=!1,o=!1){return t("editor.insertAtCursor",e,r,o)}function Ce(e){return t("editor.dispatch",e)}function ue(e,r=""){return t("editor.prompt",e,r)}function pe(e){return t("editor.confirm",e)}function Ae(e){return t("editor.alert",e)}function Ze(e){return t("editor.getUiOption",e)}function fe(e,r){return t("editor.setUiOption",e,r)}function ye(){return t("editor.fold")}function xe(){return t("editor.unfold")}function he(){return t("editor.toggleFold")}function be(){return t("editor.foldAll")}function We(){return t("editor.unfoldAll")}function Ve(){return t("editor.undo")}function Fe(){return t("editor.redo")}function Re(){return t("editor.openSearchPanel")}function we(e){return t("editor.copyToClipboard",e)}function Pe(){return t("editor.deleteLine")}function Ue(){return t("editor.moveLineUp")}function Ne(){return t("editor.moveLineDown")}function Ge(e){return t("editor.vimEx",e)}function Ye(){return t("editor.configureVimMode")}function ke(e,r){return t("editor.sendMessage",e,r)}var c={};I(c,{deleteDocument:()=>He,deleteFile:()=>$e,deletePage:()=>Ee,fileExists:()=>_e,getDocumentMeta:()=>Ke,getFileMeta:()=>Oe,getPageMeta:()=>ve,listDocuments:()=>Je,listFiles:()=>De,listPages:()=>Se,listPlugs:()=>Qe,pageExists:()=>Xe,readDocument:()=>ze,readFile:()=>Le,readPage:()=>Be,writeDocument:()=>je,writeFile:()=>qe,writePage:()=>Me});function Se(){return t("space.listPages")}function ve(e){return t("space.getPageMeta",e)}function Xe(e){return t("space.pageExists",e)}function Be(e){return t("space.readPage",e)}function Me(e,r){return t("space.writePage",e,r)}function Ee(e){return t("space.deletePage",e)}function Qe(){return t("space.listPlugs")}function Je(){return t("space.listDocuments")}function Ke(e){return t("space.getDocumentMeta",e)}function ze(e){return t("space.readDocument",e)}function je(e,r){return t("space.writeDocument",e,r)}function He(e){return t("space.deleteDocument",e)}function De(){return t("space.listFiles")}function Le(e){return t("space.readFile",e)}function Oe(e){return t("space.getFileMeta",e)}function qe(e,r){return t("space.writeFile",e,r)}function $e(e){return t("space.deleteFile",e)}function _e(e){return t("space.fileExists",e)}var C={};I(C,{getConfig:()=>at,getMode:()=>it,getVersion:()=>st,invokeCommand:()=>tt,invokeFunction:()=>et,listCommands:()=>rt,listSyscalls:()=>ot,reloadPlugs:()=>nt,wipeClient:()=>gt});function et(e,...r){return t("system.invokeFunction",e,...r)}function tt(e,r){return t("system.invokeCommand",e,r)}function rt(){return t("system.listCommands")}function ot(){return t("system.listSyscalls")}function nt(){return t("system.reloadPlugs")}function it(){return t("system.getMode")}function st(){return t("system.getVersion")}function at(e,r=void 0){return t("system.getConfig",e,r)}function gt(e=!1){return t("system.wipeClient",e)}var l={};I(l,{getFileMeta:()=>pt,listFiles:()=>ut,readAsset:()=>Ct});function It(e){let r=atob(e),o=r.length,n=new Uint8Array(o);for(let i=0;i<o;i++)n[i]=r.charCodeAt(i);return n}function x(e){let r=e.split(",",2)[1];return It(r)}async function Ct(e,r,o="utf8"){let n=await t("asset.readAsset",e,r);switch(o){case"utf8":return new TextDecoder().decode(x(n));case"dataurl":return n}}async function ut(e){return await t("asset.listFiles",e)}async function pt(e,r){return await t("asset.getFileMeta",e,r)}function h(e){return(e.split(".").pop()??"").toLowerCase()}function Vt(e){let r=/\(([^)]+)\)/g;return Array.from(e.matchAll(r)).map(o=>o[1]).filter(o=>{let n=h(o);return n==="svg"||n==="png"})}async function b(){return(await C.getConfig("drawio",{}))?.editorUrl??"https://embed.diagrams.net/?embed=1&spin=1&proto=json&configure=1"}async function W(e){let r=await l.readAsset("drawio","assets/drawioframe.js"),o=await b();await s.showPanel("modal",1,`
      <style>
        iframe {
          border: 0;
          position: fixed;
          inset: 0; /* shorthand for top/left/right/bottom: 0 */
          width: 100%;
          height: 100%;
        }
      </style>
      <div>
        <iframe 
          id="drawioiframe" 
          src="${o}" 
          drawio-path="${e}">
        </iframe>
      </div>
    `,r)}async function V(){let e=await s.getCurrentPage(),r=e.substring(0,e.lastIndexOf("/")),o=await s.getText(),n=Vt(o),i="";if(n.length==0){s.flashNotification("No png or svg diagrams attached to this page!","error");return}if(n.length===1)i=r+"/"+n[0];else{let g=n.map(m=>({name:m,description:""})),a=await s.filterBox("Edit",g,"","");if(!a){await s.flashNotification("No diagram selected!","error");return}i=r+"/"+a.name}await W(i)}async function Ft(e){let r=await l.readAsset("drawio",`assets/sample.${e}.base64`),o=atob(r);return Uint8Array.from(o,n=>n.charCodeAt(0))}async function Rt(e,r){if(await c.fileExists(e)&&!await s.confirm("File already exists! Do you want to overwrite?"))return!1;let o=await Ft(r);return await c.writeFile(e,o),!0}async function F(){let e=await s.getText(),{from:r,to:o}=await s.getSelection(),n=e.slice(r,o).trim();n||(n=await s.prompt("Enter a diagram name:","sample.svg"));let i=h(n);i!=="svg"&&i!=="png"&&(i="svg",n+=`.${i}`);let g=await s.getCurrentPage(),m=`${g.slice(0,g.lastIndexOf("/"))}/${n}`;if(!await Rt(m,i))return;let U=`![${n}](${n})`;await s.replaceRange(r,o,U),await W(m)}async function R(){let e=await l.readAsset("drawio","assets/drawioframe.js"),r=await b(),o=await s.getCurrentPage();return{html:`
      <style>
        iframe {
          border: 0;
          position: fixed;
          inset: 0; /* shorthand for top/left/right/bottom: 0 */
          width: 100%;
          height: 100%;
        }
      </style>
      <div>
        <iframe 
          id="drawioiframe" 
          src="${r}" 
          drawio-path="${o}">
        </iframe>
      </div>
    `,script:e}}var w={editdrawio:V,createdrawio:F,drawioEditor:R},P={name:"drawio",version:.1,assets:{"assets/drawioframe.js":{data:"data:application/javascript;base64,Y29uc3QgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRyYXdpb2lmcmFtZSIpOwppZnJhbWU/LnNldEF0dHJpYnV0ZSgiZnJhbWVib3JkZXIiLCAiMCIpOwoKLy8gLS0tIEhlbHBlcnMgLS0tCmNvbnN0IHN5c2NhbGxlciA9ICh0eXBlb2Ygc2lsdmVyYnVsbGV0ICE9PSAidW5kZWZpbmVkIiA/IHNpbHZlcmJ1bGxldC5zeXNjYWxsIDogc3lzY2FsbCk7Ci8vIGV4cG9ydCBjb25zdCBzeXNjYWxsZXIgPSBzeXNjYWxsOwoKZnVuY3Rpb24gYmFzZTY0VG9QbmcoYmFzZTY0U3RyaW5nKSB7CiAgICBjb25zdCByYXcgPSBiYXNlNjRTdHJpbmcuc3BsaXQoIiwiKVsxXSA/PyAiIjsKICAgIGNvbnN0IGJ5dGVzID0gVWludDhBcnJheS5mcm9tKGF0b2IocmF3KSwgYyA9PiBjLmNoYXJDb2RlQXQoMCkpOwogICAgcmV0dXJuIG5ldyBCbG9iKFtieXRlc10sIHsgdHlwZTogImltYWdlL3BuZyIgfSk7Cn0KCmZ1bmN0aW9uIGJhc2U2NFRvU3ZnKGJhc2U2NFN0cmluZykgewogICAgY29uc3QgcmF3ID0gYmFzZTY0U3RyaW5nLnN1YnN0cmluZyhiYXNlNjRTdHJpbmcuaW5kZXhPZigiLCIpICsgMSk7CiAgICBjb25zdCB0ZXh0ID0gYXRvYihyYXcpOwogICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0ZXh0KTsKfQoKYXN5bmMgZnVuY3Rpb24gY2xvc2UoKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIHJlY2VpdmUpOwogICAgYXdhaXQgc3lzY2FsbGVyKCJlZGl0b3IuaGlkZVBhbmVsIiwgIm1vZGFsIik7Cn0KCmFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRCbG9iVG9CYXNlNjQoYmxvYikgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7CiAgICAgICAgfTsKICAgICAgICByZWFkZXIub25lcnJvciA9IChlcnJvcikgPT4gewogICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7CiAgICB9KTsKfQp0cnkgewogICAgZ2xvYmFsVGhpcy5zaWx2ZXJidWxsZXQuYWRkRXZlbnRMaXN0ZW5lcigiZmlsZS1vcGVuIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coInNpbHZlYnVsbGV0IGZpbGUtb3BlbiIsIGV2ZW50LmRldGFpbC5kYXRhKTsKICAgICAgICAvLyB1bnVzZWQgYXMgZmlsZSBpcyByZWFkIGluICdpbml0JyAKICAgIH0pOwogICAgZ2xvYmFsVGhpcy5zaWx2ZXJidWxsZXQuYWRkRXZlbnRMaXN0ZW5lcigiZmlsZS11cGRhdGUiLCAoZXZlbnQpID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZygic2lsdmVidWxsZXQgZmlsZS11cGRhdGUiLCBldmVudC5kZXRhaWwuZGF0YSk7CiAgICAgICAgLy8gcG9zdCBhIG1lc3NhZ2UgdG8gaW5pdCBhZ2FpbgogICAgfSk7CiAgICBnbG9iYWxUaGlzLnNpbHZlcmJ1bGxldC5hZGRFdmVudExpc3RlbmVyKCJyZXF1ZXN0LXNhdmUiLCAoZXZlbnQpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygic2lsdmVidWxsZXQgcmVxdWVzdC1zYXZlIiwgZXZlbnQpOwogICAgICAgIHNpbHZlcmJ1bGxldC5zZW5kTWVzc2FnZSgiZmlsZS1zYXZlZCIsIHsgZGF0YTogd2luZG93LmRpYWdyYW1EYXRhIH0pOwogICAgfSk7Cn0gY2F0Y2ggKGUpIHsKfQovLyAtLS0gTWVzc2FnZSBoYW5kbGVyIC0tLQphc3luYyBmdW5jdGlvbiByZWNlaXZlKGV2dCkgewogICAgaWYgKCFldnQuZGF0YSkgcmV0dXJuOwoKICAgIGxldCBtc2c7CiAgICB0cnkgewogICAgICAgIG1zZyA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuOyAvLyBpZ25vcmUgaW52YWxpZCBKU09OCiAgICB9CgogICAgY29uc3QgZmlsZW5hbWUgPSBpZnJhbWUuZ2V0QXR0cmlidXRlKCdkcmF3aW8tcGF0aCcpOwogICAgY29uc3QgaW5kZXggPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgY29uc3QgZXh0ID0gaW5kZXggIT09IC0xID8gZmlsZW5hbWUuc2xpY2UoaW5kZXggKyAxKSA6ICcnOwoKICAgIHN3aXRjaCAobXNnLmV2ZW50KSB7CiAgICAgICAgY2FzZSAiY29uZmlndXJlIjoKICAgICAgICAgICAgaWZyYW1lPy5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZSgKICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICJjb25maWd1cmUiLAogICAgICAgICAgICAgICAgICAgIGNvbmZpZzogeyBkZWZhdWx0Rm9udHM6IFsiSHVtb3IgU2FucyIsICJIZWx2ZXRpY2EiLCAiVGltZXMgTmV3IFJvbWFuIl0gfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgIioiCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJpbml0IjogewogICAgICAgICAgICBsZXQgZGF0YSA9ICIiOwogICAgICAgICAgICBpZiAoZXh0ID09PSAic3ZnIikgewogICAgICAgICAgICAgICAgY29uc3QgZmlsZWRhdGEgPSBhd2FpdCBzeXNjYWxsZXIoInNwYWNlLnJlYWRGaWxlIiwgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShmaWxlZGF0YSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXh0ID09PSAnZHJhd2lvJykgewogICAgICAgICAgICAgICAgY29uc3QgZmlsZWRhdGEgPSBhd2FpdCBzeXNjYWxsZXIoInNwYWNlLnJlYWRGaWxlIiwgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgZGF0YSA9IGZpbGVkYXRhOwogICAgICAgICAgICAgICAgLy8gZGF0YSA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShmaWxlZGF0YSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXh0ID09PSAncG5nJykgewogICAgICAgICAgICAgICAgY29uc3QgZmlsZWRhdGEgPSBhd2FpdCBzeXNjYWxsZXIoInNwYWNlLnJlYWRGaWxlIiwgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgZGF0YSA9IGF3YWl0IGNvbnZlcnRCbG9iVG9CYXNlNjQoZmlsZWRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmcmFtZT8uY29udGVudFdpbmRvdz8ucG9zdE1lc3NhZ2UoCiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IGFjdGlvbjogImxvYWQiLCBhdXRvc2F2ZTogMSwgeG1sOiBkYXRhIH0pLAogICAgICAgICAgICAgICAgIioiCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgY2FzZSAiZXhwb3J0IjogewogICAgICAgICAgICBjb25zb2xlLmxvZyhgRXhwb3J0aW5nICR7ZXh0fWApOwogICAgICAgICAgICBsZXQgZGF0YTsKICAgICAgICAgICAgc3dpdGNoIChleHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgInN2ZyI6CiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGJhc2U2NFRvU3ZnKG1zZy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgInBuZyI6CiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGJhc2U2NFRvUG5nKG1zZy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG1zZy54bWw7IC8vIFRoaXMgY2FuIGJlIHVuZGVmaW5lZAogICAgICAgICAgICB9CiAgICAgICAgICAgIGF3YWl0IHN5c2NhbGxlcigic3BhY2Uud3JpdGVGaWxlIiwgZmlsZW5hbWUsIGRhdGEpOwogICAgICAgICAgICAvLyBzeXNjYWxsZXIoInN5bmMucGVyZm9ybVNwYWNlU3luYyIpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAvLyAgICAgc3lzY2FsbGVyKCJlZGl0b3IucmVsb2FkVUkiKTsKICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgLy8gYXdhaXQgc3lzY2FsbGVyKCJlZGl0b3IuZmxhc2hOb3RpZmljYXRpb24iLCAiUmVmcmVzaCBwYWdlIHRvIHZpZXcgY2hhbmdlcyEiKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBjYXNlICJhdXRvc2F2ZSI6CiAgICAgICAgY2FzZSAic2F2ZSI6CiAgICAgICAgICAgIGlmIChleHQgPT09ICdkcmF3aW8nKSB7CiAgICAgICAgICAgICAgICAvLyBhd2FpdCBzeXNjYWxsZXIoInNwYWNlLndyaXRlRmlsZSIsIGZpbGVuYW1lLCBtc2cueG1sKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5kaWFncmFtRGF0YSA9IG1zZy54bWw7CiAgICAgICAgICAgICAgICBnbG9iYWxUaGlzLnNpbHZlcmJ1bGxldC5zZW5kTWVzc2FnZSgiZmlsZS1jaGFuZ2VkIiwgeyBkYXRhOiBtc2cueG1sIH0pOwoKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGlmcmFtZT8uY29udGVudFdpbmRvdz8ucG9zdE1lc3NhZ2UoCiAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICJleHBvcnQiLAogICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGV4dCA9PT0gInBuZyIgPyAieG1scG5nIiA6ICJ4bWxzdmciLAogICAgICAgICAgICAgICAgICAgICAgICB4bWw6IG1zZy54bWwsIC8vIG14ZmlsZQogICAgICAgICAgICAgICAgICAgICAgICBzcGluOiAiVXBkYXRpbmcgcGFnZSIsCiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgIioiCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJleGl0IjoKICAgICAgICAgICAgY2xvc2UoKTsKICAgICAgICAgICAgc3lzY2FsbGVyKCJzeW5jLnBlcmZvcm1TcGFjZVN5bmMiKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHN5c2NhbGxlcigiZWRpdG9yLnJlbG9hZFVJIik7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGF3YWl0IHN5c2NhbGxlcigiZWRpdG9yLmZsYXNoTm90aWZpY2F0aW9uIiwgIlJlZnJlc2ggcGFnZSB0byB2aWV3IGNoYW5nZXMhIik7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgIH0KfQoKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCByZWNlaXZlKTsKCg==",mtime:1757080696179},"assets/sample.png.base64":{data:"data:application/octet-stream;base64,aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQVhOU1IwSUFyczRjNlFBQUFtQjBSVmgwYlhobWFXeGxBQ1V6UTIxNFptbHNaU1V5TUdodmMzUWxNMFFsTWpKaGNIQXVaR2xoWjNKaGJYTXVibVYwSlRJeUpUSXdZV2RsYm5RbE0wUWxNakpOYjNwcGJHeGhKVEpHTlM0d0pUSXdLRmRwYm1SdmQzTWxNakJPVkNVeU1ERXdMakFsTTBJbE1qQlhhVzQyTkNVelFpVXlNSGcyTkNrbE1qQkJjSEJzWlZkbFlrdHBkQ1V5UmpVek55NHpOaVV5TUNoTFNGUk5UQ1V5UXlVeU1HeHBhMlVsTWpCSFpXTnJieWtsTWpCRGFISnZiV1VsTWtZeE16RXVNQzR3TGpBbE1qQlRZV1poY21rbE1rWTFNemN1TXpZbE1qQkZaR2NsTWtZeE16RXVNQzR3TGpBbE1qSWxNakIyWlhKemFXOXVKVE5FSlRJeU1qWXVNQzQxSlRJeUpUTkZKVE5EWkdsaFozSmhiU1V5TUc1aGJXVWxNMFFsTWpKUVlXZGxMVEVsTWpJbE1qQnBaQ1V6UkNVeU1tTXRha1Y1ZFZkUU5tMXhVRGxNTjA1algwMWpKVEl5SlRORlpHUklRa1Z2U1dkRlFVUlJjaVV5UWtkUGEyeFBaSHBtVEZONVZVNXVVbXBhYUVKc01FZGhZbE1sTWtKUWFEQjNXVFozVEhNM2VHUlhSMWxvVEVjbE1rWklhU1V5UWxaSFdHeEhRVXBwYTFaSk1rVnVhM0ZhU0hseFdqRm9jV1ZJWWt4bU16QkdaMnhRUTFWeVZrOXZSa0ZYYmxGb2VFeFJValJWVDFWVWRHeFpjWGw0TmpaQ01tdFlSbkpqV1dwTU4zRnFhbkp2V1ROelNVZHhOVzV4Y2s1NVYyTTVTSEpKTms5dmJIRkZXWFZ1VWsxaFRXa3habWxuVURCclozTmpkbTluVm1oUFZWY3dabTF2U0ZoUVVUZ2xNa0o1VjNWbWFIbzFlaVV5UmxwNk9FMXpaRTgzU0dkVGJGazNOVFF5TUZGbGVEUm5NQ1V6UkNVelF5VXlSbVJwWVdkeVlXMGxNMFVsTTBNbE1rWnRlR1pwYkdVbE0wWFNCLy95QUFBQUMwbEVRVlFZVjJOZ0FBSUFBQVVBQWFyVnlGRUFBQUFBU1VWT1JLNUNZSUk9",mtime:1757080696180},"assets/sample.svg.base64":{data:"data:application/octet-stream;base64,UEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaVZWUkdMVGdpUHo0S1BDRXRMU0JFYnlCdWIzUWdaV1JwZENCMGFHbHpJR1pwYkdVZ2QybDBhQ0JsWkdsMGIzSnpJRzkwYUdWeUlIUm9ZVzRnWkhKaGR5NXBieUF0TFQ0S1BDRkVUME5VV1ZCRklITjJaeUJRVlVKTVNVTWdJaTB2TDFjelF5OHZSRlJFSUZOV1J5QXhMakV2TDBWT0lpQWlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZSM0poY0docFkzTXZVMVpITHpFdU1TOUVWRVF2YzNabk1URXVaSFJrSWo0S1BITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSE4wZVd4bFBTSmlZV05yWjNKdmRXNWtPaUIwY21GdWMzQmhjbVZ1ZERzZ1ltRmphMmR5YjNWdVpDMWpiMnh2Y2pvZ2RISmhibk53WVhKbGJuUTdJR052Ykc5eUxYTmphR1Z0WlRvZ2JHbG5hSFFnWkdGeWF6c2lJSGh0Ykc1ek9uaHNhVzVyUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklpQjJaWEp6YVc5dVBTSXhMakVpSUhkcFpIUm9QU0l4Y0hnaUlHaGxhV2RvZEQwaU1YQjRJaUIyYVdWM1FtOTRQU0l0TUM0MUlDMHdMalVnTVNBeElpQmpiMjUwWlc1MFBTSW1iSFE3YlhobWFXeGxJR2h2YzNROUpuRjFiM1E3WVhCd0xtUnBZV2R5WVcxekxtNWxkQ1p4ZFc5ME95QmhaMlZ1ZEQwbWNYVnZkRHROYjNwcGJHeGhMelV1TUNBb1YybHVaRzkzY3lCT1ZDQXhNQzR3T3lCWGFXNDJORHNnZURZMEtTQkJjSEJzWlZkbFlrdHBkQzgxTXpjdU16WWdLRXRJVkUxTUxDQnNhV3RsSUVkbFkydHZLU0JEYUhKdmJXVXZNVE14TGpBdU1DNHdJRk5oWm1GeWFTODFNemN1TXpZZ1JXUm5MekV6TVM0d0xqQXVNQ1p4ZFc5ME95QjJaWEp6YVc5dVBTWnhkVzkwT3pJMkxqQXVOU1p4ZFc5ME95Wm5kRHNtSXpFd095QWdKbXgwTzJScFlXZHlZVzBnYm1GdFpUMG1jWFZ2ZER0UVlXZGxMVEVtY1hWdmREc2dhV1E5Sm5GMWIzUTdZeTFxUlhsMVYxQTJiWEZRT1V3M1RtTmZUV01tY1hWdmREc21aM1E3SmlNeE1Ec2dJQ0FnSm14ME8yMTRSM0poY0doTmIyUmxiQ0JrZUQwbWNYVnZkRHM1TURNbWNYVnZkRHNnWkhrOUpuRjFiM1E3TlRRM0puRjFiM1E3SUdkeWFXUTlKbkYxYjNRN01TWnhkVzkwT3lCbmNtbGtVMmw2WlQwbWNYVnZkRHN4TUNaeGRXOTBPeUJuZFdsa1pYTTlKbkYxYjNRN01TWnhkVzkwT3lCMGIyOXNkR2x3Y3owbWNYVnZkRHN4Sm5GMWIzUTdJR052Ym01bFkzUTlKbkYxYjNRN01TWnhkVzkwT3lCaGNuSnZkM005Sm5GMWIzUTdNU1p4ZFc5ME95Qm1iMnhrUFNaeGRXOTBPekVtY1hWdmREc2djR0ZuWlQwbWNYVnZkRHN4Sm5GMWIzUTdJSEJoWjJWVFkyRnNaVDBtY1hWdmREc3hKbkYxYjNRN0lIQmhaMlZYYVdSMGFEMG1jWFZ2ZERzNE5UQW1jWFZ2ZERzZ2NHRm5aVWhsYVdkb2REMG1jWFZ2ZERzeE1UQXdKbkYxYjNRN0lHMWhkR2c5Sm5GMWIzUTdNQ1p4ZFc5ME95QnphR0ZrYjNjOUpuRjFiM1E3TUNaeGRXOTBPeVpuZERzbUl6RXdPeUFnSUNBZ0lDWnNkRHR5YjI5MEptZDBPeVlqTVRBN0lDQWdJQ0FnSUNBbWJIUTdiWGhEWld4c0lHbGtQU1p4ZFc5ME96QW1jWFZ2ZERzZ0x5Wm5kRHNtSXpFd095QWdJQ0FnSUNBZ0pteDBPMjE0UTJWc2JDQnBaRDBtY1hWdmREc3hKbkYxYjNRN0lIQmhjbVZ1ZEQwbWNYVnZkRHN3Sm5GMWIzUTdJQzhtWjNRN0ppTXhNRHNnSUNBZ0lDQW1iSFE3TDNKdmIzUW1aM1E3SmlNeE1Ec2dJQ0FnSm14ME95OXRlRWR5WVhCb1RXOWtaV3dtWjNRN0ppTXhNRHNnSUNac2REc3ZaR2xoWjNKaGJTWm5kRHNtSXpFd095WnNkRHN2YlhobWFXeGxKbWQwT3lZak1UQTdJajQ4WkdWbWN5OCtQR2MrUEdjZ1pHRjBZUzFqWld4c0xXbGtQU0l3SWo0OFp5QmtZWFJoTFdObGJHd3RhV1E5SWpFaUx6NDhMMmMrUEM5blBqd3ZjM1puUGc9PQ==",mtime:1757080696180}},imports:["https://get.silverbullet.md/global.plug.json"],requiredPermissions:["fetch"],functions:{editdrawio:{path:"./drawio.ts:editDrawioDiagram",command:{name:"Draw.io: Edit diagram",requireMode:"r"}},createdrawio:{path:"./drawio.ts:createDrawioDiagram",command:{name:"Draw.io: Create diagram",requireMode:"r"}},drawioEditor:{path:"./drawio.ts:openDrawioEditor",editor:["drawio"]}}},sr={manifest:P,functionMapping:w};y(w,P,self.postMessage);export{sr as plug};
